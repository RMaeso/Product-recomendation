# Product recomendation
The objective of the project is to recommend the new products that each client will contract in May 2016 based on historical data of the products activated by each client in the previous 15 months. Since the metric to evaluate the results is the MAP@7, the models we have built have aimed to always recommend 7 products to each client, ordering these products from most to least likely. To this end, we have first performed a product association model (Sequential Pattern Discovery Using Equivalence Classes), which has allowed us to identify (i) the products most frequently activated by customers, (ii) the products that are usually activated together, and (iii) the aggregate sequentiality of some product activations (for example, if the customer has product 3 this month, it is very likely that he/she will contract product 8 the following month). Although this model has not been used to make predictions, it has been incorporated into the exploratory analysis because of its important contributions. For modeling purposes, three main strategies have been used: (i) including lags with information from previous months for both the products (target variables) and some sociodemographic variables of the customers that we consider relevant; (ii) including the proportion of months in which each customer has activated each of the products; and (iii) clustering the customers into five major categories, adding as an additional variable the group to which each customer belongs. These three strategies, together with the conversion of discrete variables to dichotomous variables (one-hot encoding) and the selection of March 2016 as the training month and April 2016 as the test, have allowed us to create the database on which two classification models were built: logistic regression and XGBoost. Given that the results of the models indicated the probability that a client has activated that certain product (and not the new contracting), the desired probability of new contracting was obtained from the difference between the probability of activation resulting from the classification models and the actual activation of each client in the previous month. The best MAP@7 obtained was with the XGBoost model without including customer clustering, achieving an accuracy of 0.99. In this way, and based on the parameters obtained with XGBoost in the validation month (March), the 7 products with the highest probability of contracting (ordered from highest to lowest probability) for May 2016 have been recommended for each client.
